(this.webpackJsonpmastermind=this.webpackJsonpmastermind||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n.n(r),c=n(6),a=n.n(c),u=(n(12),n(7));function o(e,t){return Array(e).fill(null).map(t)}function i(e,t,n){return o(e,(function(){return o(t,n)}))}var l,d=n(1);!function(e){e[e.None=0]="None",e[e.Partial=1]="Partial",e[e.Exact=2]="Exact"}(l||(l={}));var j,f,v=function(e,t){var n=function(e,t){return e.reduce((function(e,n,r){return[].concat(Object(d.a)(e),[n===t[r]?l.Exact:l.None])}),[])}(e,t);return function(e,t,n){var r=e.map((function(e){return e===l.Exact})),s=Object(d.a)(r);return t.forEach((function(t,c){r[c]||n.forEach((function(n,a){s[a]||e[c]!==l.None&&r[c]||t===n&&(e[c]=l.Partial,r[c]=s[a]=!0)}))})),e}(Object(d.a)(n),e,t).sort().reverse()};!function(e){e[e.InProgress=0]="InProgress",e[e.Victory=1]="Victory",e[e.GameOver=2]="GameOver"}(j||(j={})),function(e){e[e.Click=0]="Click",e[e.Reset=1]="Reset"}(f||(f={}));var b=function(e){var t,n,r=e.turns,s=void 0===r?10:r,c=e.holes,a=void 0===c?4:c,u=e.colors,o=void 0===u?6:u;return{guesses:i(s,a,(function(){return-1})),hints:i(s,a,(function(){return-1})),turn:0,guessIndex:0,secretCode:(t=a,n=o,Object(d.a)(Array(t)).map((function(){return Math.floor(Math.random()*n)}))),status:j.InProgress}},O=function(e,t){switch(t.type){case f.Click:var n=t.payload.value,r=(a=e,JSON.parse(JSON.stringify(a))),s=r.guesses,c=r.hints;if(s[e.turn][e.guessIndex]=n,r.guessIndex=(e.guessIndex+1)%s[e.turn].length,0===r.guessIndex)c[e.turn]=v(s[e.turn],e.secretCode),c[e.turn].every((function(e){return e===l.Exact}))?r.status=j.Victory:e.turn===e.guesses.length-1?r.status=j.GameOver:r.status=j.InProgress,r.turn=e.turn+1;return r;case f.Reset:return b(t.payload);default:return e}var a},h=n(0),m=function(e){var t=e.colors,n=e.onClick;return Object(h.jsx)("div",{className:"code-pegs",children:t.map((function(e){return Object(h.jsx)("button",{className:"peg bordered","data-value":e,onClick:function(){return n(e)},"aria-label":"".concat(e)},e)}))})},x=function(e){var t=e.value;return Object(h.jsx)("div",{className:"peg bordered","data-value":t})},g=function(e){var t=e.guess.map((function(e,t){return Object(h.jsx)(x,{value:e},t)}));return Object(h.jsx)(h.Fragment,{children:t})},p=function(e){var t=e.hints;return Object(h.jsx)(h.Fragment,{children:t.map((function(e,t){return Object(h.jsx)("div",{className:"hint bordered","data-value":e},t)}))})},y=function(e){var t=e.guesses,n=e.hints,r=e.currentRow;return Object(h.jsx)("div",{className:"decoding-board",children:t.map((function(e,t){return Object(h.jsxs)("div",{className:"row row-".concat(t," ").concat(r===t?"active":""),children:[Object(h.jsx)(g,{guess:e}),Object(h.jsx)("span",{className:"grid-spacer"}),Object(h.jsx)(p,{hints:n[t]})]},t)}))})},C=function(){return Object(h.jsx)("footer",{children:"Copyright \xa9 2021 Jonas Petersson"})},N=function(e){var t=e.secretCode,n=e.status,r=e.reset,s=function(e){switch(e){case j.Victory:return{stateClass:"winner",title:"Congratulations"};case j.GameOver:return{stateClass:"game-over",title:"Game Over"};default:return{}}}(n),c=s.stateClass,a=s.title;return Object(h.jsx)("div",{className:"overlay",children:Object(h.jsxs)("div",{className:"container ".concat(c),children:[Object(h.jsx)("h2",{children:a}),t&&Object(h.jsx)("div",{className:"code",children:t.map((function(e,t){return Object(h.jsx)(x,{value:e},t)}))}),Object(h.jsx)("button",{className:"btn",onClick:r,children:"Reset"})]})})};var k=function(){var e=o(6,(function(e,t){return t})),t=Object(r.useReducer)(O,b({turns:10,holes:4,colors:6})),n=Object(u.a)(t,2),s=n[0],c=n[1],a=s.guesses,i=s.hints,l=s.turn,d=s.status,v=s.secretCode;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Mastermind"}),Object(h.jsx)(y,{guesses:a,hints:i,currentRow:l}),Object(h.jsx)(m,{colors:e,onClick:function(e){c({type:f.Click,payload:{value:e}})}}),Object(h.jsx)(C,{}),(d===j.Victory||d===j.GameOver)&&Object(h.jsx)(N,{status:d,secretCode:v,reset:function(){c({type:f.Reset,payload:{turns:10,holes:4,colors:6}})}})]})};a.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.f00160c3.chunk.js.map